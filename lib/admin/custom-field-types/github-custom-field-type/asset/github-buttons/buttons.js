(function(){var t,e,n,r,i,o,a,c,l,s,u,f,d,h,p=[].slice,m={}.hasOwnProperty,g=function(t,e){for(var n in e){if(m.call(e,n))t[n]=e[n]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};r={api:"https://api.github.com",anchorClass:"github-button",iconClass:"octicon",icon:"octicon-mark-github",scriptId:"github-bjs",styles:["default","mega"]};if(r.script=document.getElementById(r.scriptId)){r.url=r.script.src.replace(/[?#].*$/,"").replace(/buttons.js$/,"")}o=function(){var t;function e(){}e.flatten=function(e){var n,r;n=function(e,i){var o,a,c,l,s,u;switch(t.call(e)){case"[object Object]":for(c in e){l=e[c];n(l,i?""+i+"."+c:c)}break;case"[object Array]":for(o=s=0,u=e.length;s<u;o=++s){a=e[o];n(a,i?""+i+"["+o+"]":"["+o+"]")}break;default:r[i]=e}};r={};n(e);return r};e.expand=function(e){var n,r,i,o,a,c,l,s,u,f,d,h,p,m;a=[];for(n in e){s=e[n];i=[];p=n.split(".");for(u=0,d=p.length;u<d;u++){r=p[u];o=r.match(/^(.*?)((?:\[[0-9]+\])*)$/);if(o[1]){i.push(o[1])}if(o[2]){m=o[2].replace(/^\[|\]$/g,"").split("][");for(f=0,h=m.length;f<h;f++){c=m[f];i.push(Number(c))}}}l=a;r=0;while(i.length){if(l[r]==null){switch(t.call(i[0])){case"[object String]":l[r]={};break;case"[object Number]":l[r]=[]}}l=l[r];r=i.shift()}l[r]=s}return a[0]};t=Object.prototype.toString;return e}();l=function(){function t(){}t.stringify=function(t){var e,n,r;n=[];for(e in t){r=t[e];if(r==null){r=""}n.push(""+e+"="+r)}return n.join("&")};t.parse=function(t){var e,n,r,i,o,a,c,l;n={};c=t.split("&");for(o=0,a=c.length;o<a;o++){r=c[o];if(!(r!=="")){continue}l=r.split("="),e=l[0],i=2<=l.length?p.call(l,1):[];if(e!==""){n[e]=i.join("=")}}return n};return t}();c=function(){function t(){}t.encode=function(t){return"#"+encodeURIComponent(l.stringify(o.flatten(t)))};t.decode=function(t){if(t==null){t=document.location.hash}return o.expand(l.parse(decodeURIComponent(t.replace(/^#/,""))))||{}};return t}();i=function(){var t,e,n,r,i,o,a;function c(t,e){this.element=t&&t.nodeType===1?t:document.createElement(t);if(e){e.apply(this,[this.element])}}c.prototype.on=function(){var t,n,r,i,o,a;n=2<=arguments.length?p.call(arguments,0,i=arguments.length-1):(i=0,[]),r=arguments[i++];for(o=0,a=n.length;o<a;o++){t=n[o];e(this.element,t,r)}};c.prototype.once=function(){var t,n,r,i,o,c,l;n=2<=arguments.length?p.call(arguments,0,o=arguments.length-1):(o=0,[]),r=arguments[o++];i=function(t){return function(){var e,o,c;for(o=0,c=n.length;o<c;o++){e=n[o];a(t.element,e,i)}r()}}(this);for(c=0,l=n.length;c<l;c++){t=n[c];e(this.element,t,i)}};c.prototype.addClass=function(e){if(!n(this.element,e)){t(this.element,e)}};c.prototype.removeClass=function(t){if(n(this.element,t)){o(this.element,t)}};c.prototype.hasClass=function(t){return n(this.element,t)};e=function(t,e,n){if(t.addEventListener){t.addEventListener(""+e,n)}else{t.attachEvent("on"+e,n)}};a=function(t,e,n){if(t.removeEventListener){t.removeEventListener(""+e,n)}else{t.detachEvent("on"+e,n)}};i=/[ \t\n\f\r]+/g;r=/^[ \t\n\f\r]+|[ \t\n\f\r]+$/g;t=function(t,e){t.className+=" "+e};o=function(t,e){t.className=(" "+t.className+" ").replace(i," ").replace(" "+e+" ","").replace(r,"")};n=function(t,e){return(" "+t.className+" ").replace(i," ").indexOf(" "+e+" ")>=0};return c}();a=function(t){g(e,t);function e(t){e.__super__.constructor.call(this,"iframe",function(e){var n,r,i,o;i={allowtransparency:true,scrolling:"no",frameBorder:0};for(n in i){r=i[n];e.setAttribute(n,r)}o={border:"none",height:"0",width:"1px"};for(n in o){r=o[n];e.style[n]=r}if(t){t.apply(this,[e])}})}e.prototype.html=function(t){var e;try{e=this.element.contentWindow.document;e.open();e.write(t);e.close()}catch(n){}};e.prototype.load=function(t){return this.element.src=t};e.prototype.size=function(){var t,e,n,r;try{e=this.element.contentWindow.document;n=e.documentElement;t=e.body;n.style.overflow=t.style.overflow=window.opera?"scroll":"visible";r={width:""+t.scrollWidth+"px",height:""+t.scrollHeight+"px"};n.style.overflow=t.style.overflow="";return r}catch(i){return{}}};e.prototype.resize=function(t){var e,n,r;r=t!=null?t:this.size(),n=r.width,e=r.height;if(n){this.element.style.width=n}if(e){return this.element.style.height=e}};return e}(i);t=function(){var t;function e(){}e.parse=function(e){return{href:t(e.href),text:e.getAttribute("data-text")||e.textContent||e.innerText,data:{count:{api:function(){var t;if(t=e.getAttribute("data-count-api")){if("/"!==t.charAt(0)){t="/"+t}return t}}(),href:function(){var n;if((n=e.getAttribute("data-count-href"))&&(n=t(n))){return n}else{return t(e.href)}}()},style:function(){var t,n,i,o,a;if(n=e.getAttribute("data-style")){a=r.styles;for(i=0,o=a.length;i<o;i++){t=a[i];if(t===n){return n}}}return r.styles[0]}(),icon:function(){var t;if(t=e.getAttribute("data-icon")){return t}}()}}};t=function(t){if(!/^\s*javascript:/i.test(t)){return t}};return e}();e=function(t){g(e,t);function e(){var t,n,o;n=arguments[0],t=2<=arguments.length?p.call(arguments,1):[];e.__super__.constructor.call(this,t[0]);o=function(e){return function(){var i;i=e.size();e.once("load",function(){e.resize(i);if(t[1]){t[1].apply(e,[e.element])}});e.load(""+r.url+"buttons.html"+n)}}(this);this.once("load",function(t){return function(){var e;if(t.element.contentWindow.callback){e=t.element.contentWindow.callback.script;if(e.readyState){new i(e).on("readystatechange",function(){if(/loaded|complete/.test(e.readyState)){o()}})}else{new i(e).on("load","error",function(){o()})}}else{o()}}}(this));this.html('<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8">\n<title></title>\n<base target="_blank"><!--[if lte IE 6]></base><![endif]-->\n<link rel="stylesheet" href="'+r.url+'assets/css/buttons.css">\n<style>html{visibility:hidden;}</style>\n<script>document.location.hash = "'+n+'";</script>\n</head>\n<body>\n<script src="'+r.script.src+'"></script>\n</body>\n</html>')}return e}(a);n=function(){var t,e;function n(n){if(n&&n.data){document.body.className=n.data.style;document.getElementsByTagName("base")[0].href=n.href;new t(n,function(t){document.body.appendChild(t)});new e(n,function(t){document.body.appendChild(t)})}}t=function(t){g(e,t);function e(t,n){e.__super__.constructor.call(this,"a",function(e){e.className="button";if(t.href){e.href=t.href}new i("i",function(n){n=document.createElement("i");n.className=function(){var e;e=[t.data.icon||r.icon];if(r.iconClass){e.push(r.iconClass)}return e.join(" ")}();e.appendChild(n)});new i("span",function(t){t.appendChild(document.createTextNode(" "));e.appendChild(t)});new i("span",function(n){if(t.text){n.appendChild(document.createTextNode(t.text))}e.appendChild(n)});if(n){n(e)}})}return e}(i);e=function(t){g(e,t);function e(t,n){if(t.data.count.api){e.__super__.constructor.call(this,"a",function(e){e.className="count";if(t.data.count.href){e.href=t.data.count.href}new i("b",function(t){e.appendChild(t)});new i("i",function(t){e.appendChild(t)});new i("span",function(a){var c;e.appendChild(a);c=function(){var e,n;n=t.data.count.api.split("#")[0];e=l.parse(n.split("?").slice(1).join("?"));e.callback="callback";return""+n.split("?")[0]+"?"+l.stringify(e)}();new i("script",function(i){var l;i.async=true;i.src=""+r.api+c;window.callback=function(r){var i;window.callback=null;if(r.meta.status===200){i=o.flatten(r.data)[t.data.count.api.split("#").slice(1).join("#")];if(Object.prototype.toString.call(i)==="[object Number]"){i=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}a.appendChild(document.createTextNode(" "+i+" "));if(n){n(e)}}};window.callback.script=i;this.on("error",function(){window.callback=null});if(i.readyState){this.on("readystatechange",function(){if(i.readyState==="loaded"&&i.children&&i.readyState==="loading"){window.callback=null}})}l=document.getElementsByTagName("head")[0];l.insertBefore(i,l.firstChild)})})})}}return e}(i);return n}();if(r.script){if(document.querySelectorAll){u=document.querySelectorAll("a."+r.anchorClass)}else{u=function(){var t,e,n,o;n=document.getElementsByTagName("a");o=[];for(t=0,e=n.length;t<e;t++){s=n[t];if(i.prototype.hasClass.call({element:s},r.anchorClass)){o.push(s)}}return o}()}f=function(n){new e(c.encode(t.parse(n)),function(t){n.parentNode.insertBefore(t,n)},function(){n.parentNode.removeChild(n)})};for(d=0,h=u.length;d<h;d++){s=u[d];f(s)}}else{new n(c.decode())}}).call(this);
//# sourceMappingURL=buttons.js.map